---
title: 'create-react-app ã§è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ CSS ã‚„ JS ã¸ã®ãƒ‘ã‚¹ã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•'
date: 2020-08-05T12:00:00+09:00
lastmod: 2020-08-05T12:00:00+09:00
categories: [ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°, Web ã‚¢ãƒ—ãƒª]
tags: [React, JavaScript/TypeScript]
draft: false
---

`create-react-app`ã§ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ CSS ã‚„ç”»åƒã‚„ JS ã¸ã®ãƒ‘ã‚¹ãŒ

`/static/css/main.xxxxxxxx.chunk.css`ã€

`/static/media/...`ã€

`/static/js/...chunk.js`

ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

<!--more-->

ä½•ã‚‰ã‹ã®äº‹æƒ…ã§ã“ã‚Œã‚’å¤‰ãˆãŸã„ã¨ããŒã‚ã‚Šã¾ã™ã€‚

ä»Šå›ã¯ã“ã‚Œã‚‰ã®ãƒ‘ã‚¹ã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚

<br/>

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã•ã›ã‚‹

ã¾ãšã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§`npm run eject`ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ã€

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡ºç¾ã•ã›ã¾ã™ã€‚

å®Ÿã¯`create-react-app`ã‚’ã—ãŸã ã‘ã§ã¯ã€ç´°ã‹ã„è¨­å®šã‚’ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã¯éš ã‚ŒãŸã¾ã¾ãªã®ã§ã™ã€‚

eject ã«ã‚ˆã£ã¦ <tltp label="webpack">è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã²ã¨ã¤ã«ã¾ã¨ã‚ã‚‹ãƒãƒ³ãƒ‰ãƒ©</tltp> ãªã©ã®è¨­å®šãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

å®Ÿè¡Œå¾Œã¯ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`config`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

<br/>

## ãƒ‘ã‚¹ã‚’æ›¸ãæ›ãˆã‚‹

webpack ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«`config/webpack.config.js`ã‚’ç·¨é›†ã—ã¾ã™ã€‚

é•·å¤§ãªãƒ•ã‚¡ã‚¤ãƒ«ãªã®ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«å†…æ¤œç´¢ã§`static`ã‚’æ¤œç´¢ã—ã¾ã™ã€‚

```js {name="webpack.config.js", hl_lines=[3, 9, 14, 18, 24, 25]}
...
      filename: isEnvProduction
        ? 'static/js/[name].[contenthash:8].js'         // â† ã“ã“ã‚’å¤‰ãˆã‚‹
        : isEnvDevelopment && 'static/js/bundle.js',
      // TODO: remove this when upgrading to webpack 5
      futureEmitAssets: true,
      // There are also additional JS chunk files if you use code splitting.
      chunkFilename: isEnvProduction
        ? 'static/js/[name].[contenthash:8].chunk.js'   // â† ã“ã“ã‚’å¤‰ãˆã‚‹
        : isEnvDevelopment && 'static/js/[name].chunk.js',
...
              options: {
                limit: imageInlineSizeLimit,
                name: 'static/media/[name].[hash:8].[ext]',   // â† ã“ã“ã‚’å¤‰ãˆã‚‹
              },
...
              options: {
                name: 'static/media/[name].[hash:8].[ext]',   // â† ã“ã“ã‚’å¤‰ãˆã‚‹
              },
...
        new MiniCssExtractPlugin({
          // Options similar to the same options in webpackOptions.output
          // both options are optional
          filename: 'static/css/[name].[contenthash:8].css',              // â† ã“ã“ã‚’å¤‰ãˆã‚‹
          chunkFilename: 'static/css/[name].[contenthash:8].chunk.css',   // â† ã“ã“ã‚’å¤‰ãˆã‚‹
        }),
...
```

JavaScript ã®ãƒ‘ã‚¹ã¯å‰ã®ï¼’ã¤ã€

ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã®ãƒ‘ã‚¹ã¯ä¸­ã®ï¼’ã¤ã€

CSS ã®ãƒ‘ã‚¹ã¯å¾Œã®ï¼’ã¤ã‚’å¤‰æ›´ã™ã‚Œã°ååˆ†ã§ã™ã€‚

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ãŠã‚‰ãšæ§‹é€ ã‚‚ã¤ã‹ã‚ã¦ã„ãªã„ã®ã§ã€ä¸¡æ–¹å¿…è¦ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚

---

ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚

ã§ã¯ğŸ‘‹
